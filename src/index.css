@tailwind base;
@tailwind components;
@tailwind utilities;

@import 'react-toastify/dist/ReactToastify.css';

@layer base {
  * {
    box-sizing: border-box;
  }
  
  html {
    font-family: 'Inter', system-ui, sans-serif;
  }
  
  body {
    @apply bg-background text-white font-body antialiased;
    margin: 0;
    padding: 0;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-display font-semibold;
  }
}

@layer components {
  .glass {
    @apply bg-white/5 backdrop-blur-sm border border-white/10;
  }
  
  .glass-card {
    @apply glass rounded-xl shadow-2xl;
  }
  
  .gradient-text {
    @apply bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent;
  }
  
  .waveform-bar {
    @apply bg-gradient-to-t from-primary to-secondary;
    animation: pulse 1.5s ease-in-out infinite;
  }
  
  .practice-flame {
    @apply text-accent;
    filter: drop-shadow(0 0 8px rgba(245, 158, 11, 0.6));
  }
}

/* Toast Customization */
.Toastify__toast-container {
  @apply text-sm;
  width: 320px;
}

.Toastify__toast {
  @apply glass-card text-white border-none;
  min-height: 50px;
  padding: 12px 16px;
}

.Toastify__toast--success {
  @apply border-green-500/30;
}

.Toastify__toast--error {
  @apply border-red-500/30;
}

.Toastify__toast--info {
  @apply border-blue-500/30;
}

.Toastify__progress-bar {
  @apply bg-gradient-to-r from-primary to-secondary;
}

/* Audio Player Customization */
audio {
  @apply w-full h-8 rounded-lg;
  background: linear-gradient(90deg, #1F2937 0%, #374151 100%);
}

audio::-webkit-media-controls-panel {
  background: linear-gradient(90deg, #1F2937 0%, #374151 100%);
}

/* Scrollbar Customization */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-800;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500;
}
/* Form Input Glow Effect */
.input-glow:focus {
  @apply ring-2 ring-primary/50 shadow-glow;
}

/* Loading Shimmer Effect */
@keyframes shimmer {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.shimmer {
  background: linear-gradient(90deg, #374151 0px, #4B5563 40px, #374151 80px);
  background-size: 200px 100%;
  animation: shimmer 1.5s infinite;
}

/* Image Loading and Error Handling */
@keyframes imageLoad {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.image-loading {
  @apply bg-gray-700 animate-pulse;
  background: linear-gradient(90deg, #374151 0px, #4B5563 40px, #374151 80px);
  background-size: 200px 100%;
  animation: shimmer 1.5s infinite;
}

.image-loaded {
  animation: imageLoad 0.3s ease-out;
}

.image-error {
  @apply bg-gray-800 border-2 border-dashed border-gray-600 flex items-center justify-center text-gray-400;
}

.image-fallback {
  @apply bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center text-gray-300;
}

/* Avatar and Profile Image Specific Styles */
.avatar-loading {
  @apply rounded-full bg-gray-700;
  background: radial-gradient(circle, #4B5563 0%, #374151 70%);
  animation: pulse 2s ease-in-out infinite;
}

.avatar-error {
  @apply rounded-full bg-gradient-to-br from-gray-700 to-gray-800 border-2 border-gray-600 flex items-center justify-center text-gray-400 text-sm font-medium;
}

.avatar-fallback {
  @apply rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-semibold;
}

/* Image Container Utilities */
.image-container {
  @apply relative overflow-hidden;
}

.image-container::before {
  content: '';
  @apply absolute inset-0 bg-gray-800 z-10;
  transition: opacity 0.3s ease;
}

.image-container.loaded::before {
  opacity: 0;
}

.image-container.error::before {
  @apply bg-gray-900;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236B7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z' /%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 2rem;
}

/* Responsive Image Utilities */
.responsive-image {
  @apply w-full h-full object-cover transition-all duration-300;
}

.responsive-image:hover {
  transform: scale(1.02);
}

/* External Image Safety */
img[src*="unsplash.com"],
img[src*="pixabay.com"],
img[src*="pexels.com"] {
  @apply transition-opacity duration-300;
}

img[src*="unsplash.com"]:not([alt]),
img[src*="pixabay.com"]:not([alt]),
img[src*="pexels.com"]:not([alt]) {
  @apply opacity-90;
}

/* Lazy Loading Support */
.lazy-image {
  @apply opacity-0 transition-opacity duration-500;
}

.lazy-image.loaded {
  @apply opacity-100;
}